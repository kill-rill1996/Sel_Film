{% extends 'base.html' %}
{% load static %}



{% block content %}

<!--     <form action="" method="post">
        {% csrf_token %}
        <table>
        {{ form }}
        </table>
        <input type="submit" value="Submit" />
    </form>


    {% if film_1 and film_2 %}
        <h1>Вы искали по фильмам</h1>
        <ul>
            <li>{{ film_1.title_ru|capfirst }}</li>
            <li>{{ film_2.title_ru|capfirst }}</li>
        </ul>
        <hr>
        {% for film in top_ten %}
            <p><a href="{{ film.get_absolute_url }}">{{ film.title_ru|capfirst }}</a></p>
        {% endfor %}

    {% elif films_1_query or films_2_query%}
    <hr/>

        {% if films_1_query %}
            <b>Возможно вы искали (фильм №1):</b>
            <ul>
              {% for film in films_1_query %}
                    <li><a href="{{ film.get_absolute_url }}">{{ film.title_ru|capfirst }} ({{ film.year }})</a></li>
              {% endfor %}
            </ul>
        {% endif %}

        {% if films_2_query %}
            <b>Возможно вы искали (фильм №2):</b>>
             <ul>
              {% for film in films_2_query %}
                    <li><a href="{{ film.get_absolute_url }}">{{ film.title_ru|capfirst }} ({{ film.year }})</a></li>
              {% endfor %}
            </ul>
        {% endif %}

    {% endif %} -->



<!--Левый фильм -->
<div class="container mx-auto">
    <div class="grid grid-cols-1 sm:grid-cols-2 justify-items-center mt-10">

        <div class="grid w-full justify-items-center">
            <div class="mb-4 sm:mb-6">
            {% if film_1 %}
                <h2 class="text-lg text-indigo-800">{{ film_1.title_ru|capfirst }}{% if film_1.year %} ({{ film_1.year }}){% endif %}</h2>
            {% else %}
                <h2 class="text-lg text-indigo-800">Film 1</h2>
            {% endif %}
            </div>

            <div class="grid w-2/5 sm:w-3/5 md:w-5/12 xl:w-3/5 justify-items-center">
            {% if film_1.image.url %}
                <img class="rounded-lg shadow-lg" src="{{ film_1.image.url }}" alt="">
            {% else %}
                <img class="rounded-lg shadow-lg" src="{% static 'images/poster.jpeg' %}" alt="">
            {% endif %}
            </div>
        </div>

        <!--Правый фильм-->
        <div class="grid w-full justify-items-center">
            <div class="mt-8 sm:mt-0 mb-4 sm:mb-6">
            {% if film_2 %}
                <h2 class="text-lg text-indigo-800">{{ film_2.title_ru|capfirst }} {% if film_2.year %}({{ film_2.year }}){% endif %}</h2>
            {% else %}
                <h2 class="text-lg text-indigo-800">Film 2</h2>
            {% endif %}
            </div>

            <div class="grid w-2/5 sm:w-3/5 md:w-5/12 xl:w-3/5 justify-items-center">
            {% if film_2.image.url %}
                <img class="rounded-lg shadow-lg" src="{{ film_2.image.url }}" alt="">
            {% else %}
                <img class="rounded-lg shadow-lg" src="{% static 'images/poster.jpeg' %}" alt="">
            {% endif %}
            </div>
        </div>
    </div>

    <!--    Поисковые вводы, кнопка поиска-->
    <div class="grid grid-cols-1">
        <div class="w-full justify-items-center">
               <div class="mt-6 w-full text-sm sm:text-base">
                   <form method="post" action="{% url 'search-films' %}">
                        {% csrf_token %}
                        <div class="grid grid-cols-1 sm:grid-cols-2 justify-items-center">
                            <div class="w-44 mb-4 sm:mb-0 md:w-44 lg:w-56 xl:w-80">
                                {{ form_1 }}
                            </div>
                            <div class="w-44 mb-4 sm:mb-0 md:w-44 lg:w-56 xl:w-80">
                                {{ form_2 }}
                            </div>
                        </div>
                        <div class="grid grid-cols-1 justify-items-center">
                            <button type="submit" class="grid w-32 md:w-40 bg-gray-50 border border-indigo-700 text-indigo-700 sm:text-sm rounded-lg focus:ring-indigo-500 focus:border-indigo-500 p-2.5">Подобрать</button>
                        </div>
                   </form>
               </div>

                {% if films_1_query or films_2_query%}
                {% if films_1_query %}
                <b>Возможно вы искали (фильм №1):</b>
                <ul>
                  {% for film in films_1_query %}
                        <li><a target="_blank" href="{{ film.get_absolute_url }}">{{ film.title_ru|capfirst }} ({{ film.year }})</a></li>
                  {% endfor %}
                </ul>
                {% endif %}
                    {% if films_2_query %}
                <b>Возможно вы искали (фильм №2):</b>
                 <ul>
                  {% for film in films_2_query %}
                        <li><a target="_blank" href="{{ film.get_absolute_url }}">{{ film.title_ru|capfirst }} ({{ film.year }})</a></li>
                  {% endfor %}
                 </ul>
                 {% endif %}
                 {% endif %}

            {% if not  films_1_query and not films_2_query and not film_1 and not film_2 %}
            <b>По вашим запросам ничего не найдено</b>
            {% endif %}
        </div>
    </div>


    {% if top_ten %}
    <hr class="mt-8">
        <div class="grid gap-x-10 gap-y-10 grid-cols-10 mt-10 text-sm">
                {% for film in top_ten %}
                    {% include 'includes/card_for_top_ten.html' %}
                {% endfor %}
        </div>
    {% endif %}
</div>

            <!-- <div class="flex flex-row">
                <div class="flex flex-col w-1/2 px-10 justify-center">
                    <div class="flex content-center">
                        <h2>Film # 1</h2>
                    </div>
                    <div class="w-2/5 sm:w-1/2 inline-flex items-center justify-center shadow-lg">
                        <img class="rounded-lg" src="{% static 'images/poster.jpeg' %}" alt="">
                    </div>
                    <div class="mb-6 w-1/2 mt-8">
                        <input type="text" id="base-input" class="bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500">
                    </div>
                </div>
                <div class="w-1/2 px-10">
                    <h2>Film # 1</h2>
                    <div class="w-2/5 sm:w-1/2 inline-flex items-center justify-center shadow-lg">
                        <img class="rounded-lg" src="{% static 'images/poster.jpeg' %}" alt="">
                    </div>
                    <div class="mb-6 w-1/2 mt-8">
                        <input type="text" id="base-input" class="bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500">
                    </div>
                </div>
            </div> -->


{% endblock content %}

























